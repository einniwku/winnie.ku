"undefined"==typeof console&&(console={dir:function(){},log:function(){}});var Twitter=function(e){var t={},s={showDate:!0,showUserName:!0};t.twitterObjArr=[],t.twitterPromise,t.init=function(i){console.log("twitter init"),s=e.extend(s,i||{}),t.twitterPromise=n()};var n=function(){for(var t=[],n=0,r=s.users.length;r>n;n++){var o="https://search.twitter.com/search.json?include_entities=true&from="+s.users[n]+"&rpp="+s.num_feeds+"&with_twitter_user_id=true&callback=?",a=e.getJSON(o);t.push(a),console.log(o),e.when(a).then(function(e){console.log(e),i(e)})}return e.when.apply(null,t)},i=function(n){for(var i=0,r=n.results.length;r>i;i++){t.twitterObjArr.push(n.results[i]);var o=n.results[i],a=o.created_at,l=o.text,p=o.from_user,m=e('<div class="tweetItem"></div>');m.append('<div class="itemBody">'+l+"</div>"),1==s.showDate&&m.append('<div class="itemTime">'+a+"</div>"),1==s.showUserName&&m.append('<div class="itemFromUser">'+p+"</div>"),o.validDateForSorting=a,o.itemHtml=m,t.twitterObjArr.push(o)}};return t}(jQuery,window),Pinterest=function(e){var t={},s={showDate:!0,showUserName:!0,showImage:!0};t.pinterestObjArr=[],t.pinterestPromise,t.init=function(i){console.log(" pinterest init"),s=e.extend(s,i||{}),t.pinterestPromise=n()};var n=function(){for(var t=[],n=0,r=s.users.length;r>n;n++){var o="http://pinterest.com/"+s.users[n]+"/feed.rss",a="https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+s.num_feeds+"&callback=?&q="+encodeURIComponent(o),l=e.getJSON(a);console.log(a),t.push(l),e.when(l).then(function(e){console.log(e),i(e)})}return e.when.apply(null,t)},i=function(n){for(var i=0,r=n.responseData.feed.entries.length;r>i;i++){t.pinterestObjArr.push(n.responseData.feed.entries[i]);var o=n.responseData.feed.entries[i],a=o.publishedDate,l=o.contentSnippet,p=o.author,m=(o.link,e('<div class="pinterestItem"></div>'));if(m.append('<div class="itemBody">'+l+"</div>"),1==s.showDate&&m.append('<div class="itemTime">'+a+"</div>"),1==s.showImage){var c=o.content.match(/src=(.+")/)[1].replace(/\"/g,"");m.append('<div class="itemImage"><img src="'+c+'" /></div>')}1==s.showUserName&&m.append('<div class="itemFromUser">'+p+"</div>"),o.validDateForSorting=a,o.itemHtml=m,t.pinterestObjArr.push(o)}};return t}(jQuery,window),Instagram=function(e){var t={},s={showDate:!0,showUserName:!0,showImage:!0,hyperlinkImage:!0,imageSize:"small",showLikes:!0,showTotalLikes:!0};t.instagramObjArr=[],t.instagramPromise,t.init=function(i){console.log("instagram init"),s=e.extend(s,i||{}),t.instagramPromise=n()};var n=function(){for(var t=[],n="197019245.28c53d9.cf82bfb63efc410f934eec52d416b12b",r=(s.users[o],s.num_feeds),o=0,a=s.users.length;a>o;o++){var l="https://api.instagram.com/v1/users/"+s.users[o]+"/media/recent/?access_token="+n+"&count="+r,p=e.ajax({type:"GET",dataType:"jsonp",cache:!1,url:l});t.push(p),console.log(l),e.when(p).then(function(e){console.log(e),i(e)})}return e.when.apply(null,t)},i=function(n){console.log(n);for(var i=0,r=0,o=n.data.length;o>r;r++){var a=n.data[r],l=a.created_time,p=a.caption,m=a.user.username,c=(a.link,a.likes.count);i+=c,null!=a.caption&&(p=a.caption.text);var u="";u="medium"==s.imageSize?a.images.low_resolution.url:"large"==s.imageSize?a.images.standard_resolution.url:a.images.thumbnail.url;var d=e('<div class="tweetItem"></div>');if(d.append('<div class="itemBody">'+p+"</div>"),1==s.showDate&&d.append('<div class="itemTime">'+l+"</div>"),1==s.showUserName&&d.append('<div class="itemFromUser">'+m+"</div>"),1==s.showImage)var u=u.replace("http://","https://");1==s.hyperlinkImage?d.append('<div class="itemImage"><a href="'+a.link+'" target="_blank"> 						<img src="'+u+'"/></a></div>'):d.append('<div class="itemImage"><img src="'+u+'"/></div>'),1==s.showLikes&&d.append('<div class="itemLikesNum">'+c+"</div>"),a.validDateForSorting=l,a.itemHtml=d,t.instagramObjArr.push(a)}};return t}(jQuery,window);!function(e){e.fn.socialFeeds=function(t){var s,n,i,r=[],o=[],a=e('<div class="allFeeds"></div>'),l=e(this);options={num_feeds:8,twitter_options:{},pinterest_options:{},instagram_options:{},callback:null},options=e.extend(options,t||{});var p=function(){var t=e.Deferred(),s=options.twitter_options;return s.num_feeds=options.num_feeds,Twitter.init(s),Twitter.twitterPromise.then(function(){o.push(Twitter.twitterPromise),console.log(o);for(var e=0;e<Twitter.twitterObjArr.length;e++)r.push(Twitter.twitterObjArr[e]);t.resolve()},function(){console.log("failed")}),t.promise()},m=function(){var t=e.Deferred(),s=options.pinterest_options;return s.num_feeds=options.num_feeds,Pinterest.init(s),Pinterest.pinterestPromise.then(function(){o.push(Pinterest.pinterestPromise),console.log(o);for(var e=0;e<Pinterest.pinterestObjArr.length;e++)r.push(Pinterest.pinterestObjArr[e]);t.resolve()},function(){console.log("failed")}),t.promise()},c=function(){var t=e.Deferred(),s=options.instagram_options;return s.num_feeds=options.num_feeds,Instagram.init(s),Instagram.instagramPromise.then(function(){o.push(Instagram.instagramPromise),console.log(o);for(var e=0;e<Instagram.instagramObjArr.length;e++)r.push(Instagram.instagramObjArr[e]);t.resolve()},function(){console.log("failed")}),t.promise()};return this.each(function(){e.isEmptyObject(options.twitter_options.users)||(s=p(),o.push(s)),e.isEmptyObject(options.pinterest_options.users)||(n=m(),o.push(n)),e.isEmptyObject(options.instagram_options.users)||(i=c(),o.push(i)),e.when.apply(null,o).then(function(){console.log("allSocialFeedsPromise"+o);for(var e=0;e<r.length;e++){var t=r[e];a.append(t.itemHtml)}l.append(a),null!=options.callback&&options.callback()},function(){})})}}(jQuery,window);